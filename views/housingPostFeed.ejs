<!doctype html>
<html>
<head>
    <title>Housing Post Feed</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    
</head>
<body>

  <nav>
    <h1>HOMEPAGE</h1>
    <a href="/submitHousingPost">submit housing</a> 
    <a href="/submitTopic">submit topic</a> 
    <a href="/profile">profile</a> 
    <a href="/housingPostFeed">housingFeed</a> 
    <a href="/topicFeed">topicFeed</a> 
    <a href="/logout" >Logout</a>
    <a href="/save" >savedPage</a>
    <a href="/login" >Login</a>
  </nav>
  <div class="container">

    <div class="row page-header text-center">
        <h2><span class="fa fa-home"></span> Housing Post Feed</h2>
    </div>

    <div class="searchBox row">
      <div class="col searchForms">
        <form action="/zipcodesHousing" method="post">
          <label for="zipcodesHousing">zipcode</label>
            <select name="zipcodesHousing" id="zipcodesHousing" size="4" multiple>
              <option selected disabled>zipcode</option>
              <!-- use this same block of code on the feeds and the sign in and topic page -->
            <% for(let i = 0; i < zipcodes.length; i++) {%>
              <option value="<%= zipcodes[i] %>"><%= zipcodes[i] %></option>
            <% }%>  
          </select>
          <br><br>
          <input type="submit" value="Submit">
        </form>
      </div>
      <div class="col searchForms">
        <form action="/neighorhoodsHousing" method="post">
          <label for="neighorhoodsHousing">neighborhood</label>
            <select name="neighorhoodsHousing" id="neighborhoodsHousing" size="4" multiple>
              <option selected disabled>neighborhood</option>
              <!-- use this same block of code on the feeds and the sign in and topic page -->
            <% for(let i = 0; i < neighborhoods.length; i++) {%>
              <option value="<%= neighborhoods[i] %>"><%= neighborhoods[i] %></option>
            <% }%>  
          </select>
          <br><br>
          <input type="submit" value="Submit">
        </form>
      </div>

    </div>

    <div class="holdingSector">
      
        <div class="feed">
          
          <% for(var i=0; i<housingPosts.length; i++) {%>
            <section class="row cssForRow individualPosting">
              
              <!-- <h4>name : <%# housingPosts[i].userName %></h4> -->
              
              <a href="/housingPost?id=<%=housingPosts[i]._id%>"><h4><%= housingPosts[i].title %></h4></a>

              <a href="/otherUserProfile/<%= housingPosts[i].userId %>"><span><%= housingPosts[i].userName %></span></a>

              <p><%= housingPosts[i].neighborhood %></p>
              <p><%= housingPosts[i].zipcode %></p>
              
              <% let options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }; %>
              <p><%= housingPosts[i].datePostedBy.toLocaleDateString("en-US", options)  %></p>  
              <span><i data-id="<%= housingPosts[i]._id %>" class="fa save-housing fa-save" aria-hidden="true"></i></span>
              <% if ( housingPosts[i].userId.equals(user._id)) { %>
                <span><i data-id="<%= housingPosts[i]._id %>" class="fa housing-trash fa-trash" aria-hidden="true"></i></span>
              <% } %>
            </section>

         <% } %>
        </div>
         
    </div>

          <!-- so the profile section will have your saved housing posts, AND saved message board posts.  and other information to put in-->

  </div>

<script src="main.js"></script>

</body>
</html>
